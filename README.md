# Sonic Geometer

An experimental web application for exploring geometric and algorithmic sound transformation. Sonic Geometer allows you to deconstruct and recombine audio files in unique ways, creating entirely new sonic textures and soundscapes.

Featuring a suite of advanced transformation algorithms, real-time microphone input, a unique 3D "MP3gon" audio visualizer, and an AI-powered creative assistant to help you name your creations.

---

## Features

-   **12 Advanced Transformation Methods:**
    -   **Amplitude Mapping:** Applies the volume envelope of the source to the target.
    -   **Spectral Shaping:** Reshapes the frequency content of the target to match the source.
    -   **Rhythmic Gating:** Triggers the target sound using the rhythmic attacks of the source.
    -   **Convolution Morphing:** Imprints the sonic character and resonance of the source onto the target.
    -   **Time Scale Warping:** Matches the target's rhythm to the source's groove by time-stretching.
    -   **Surface Translation:** Uses the source's waveform to re-sequence the target's sonic texture.
    -   **Fourier Masking:** Combines the source's frequency power with the target's phase information.
    -   **Harmonic Imprinting:** Resonates the target using the source's key musical frequencies.
    -   **Interference Echoes:** The source's rhythm triggers cascading, interactive echoes of the target.
    -   **Formant Shifting:** Imprints the "vocal" or vowel character of the source onto the target.
    -   **Dynamic Ring Modulation:** The source's volume controls the frequency of a metallic modulator effect on the target.
    -   **Transformation Morphing:** Create a seamless blend between the results of any two other transformations.
-   **MP3gon 3D Visualizer:** See the unique geometric form of your audio files. Every sound generates a one-of-a-kind 3D model based on its time, frequency, and amplitude data, which you can interact with and deform. Available shapes include Tube, Sphere, Torus, Flat, and the high-fidelity **Spectrogram**.
-   **Shape Player (Sonification):** A groundbreaking feature that "plays" the 3D geometry of the MP3gon itself, interpreting its vertices as notes in a complex soundscape. Control the "bitrate" of this interpretation to create sounds ranging from clear and complex to crunched and distorted.
-   **OBJ 3D Model Export:** Download the unique MP3gon geometry for any sound as a standard `.obj` file, ready to be used in other 3D applications.
-   **Live Processing:** Use your microphone as a real-time audio source to dynamically transform a target sound.
-   **AI Creative Assistant:** Powered by the Google Gemini API, the assistant can generate creative and evocative names for your new soundscapes.
-   **Interactive Controls:** Fine-tune the results with sliders for each transformation's unique parameters.

---

## How to Use

1.  **Select a Source:**
    -   Click **File** to upload a source audio file (e.g., a drum loop, a vocal sample).
    -   Click **Live** to use your microphone as the source input.
2.  **Upload a Target:**
    -   In the **Target Audio** box, upload the sound you want to modify (e.g., a synth pad, an ambient recording).
3.  **Choose a Transformation:**
    -   Select one of the transformation methods from the list. Each has a unique way of combining the source and target.
4.  **Adjust Parameters:**
    -   Use the sliders that appear to tweak the behavior of the selected transformation.
5.  **Apply Transformation:**
    -   Click the **Apply Transformation** (or **Start Live Processing**) button.
6.  **Explore the Result:**
    -   The transformed audio will appear in the **Transformation Result** section.
    -   Explore the **MP3gon** 3D model of your new sound. Use the controls to switch between shapes, or use **Blend Mode** to create hybrid shapes.
    -   Use the new **Shape Player** to listen to the sound of the geometry itself. The **Spectrogram** shape provides the most faithful sonic representation, while others are more interpretive. Adjust the "bitrate" to change the character of the sonification.
    -   Use the audio players to compare the original and modified sounds.
    -   Click **Download Result** to save your creation as a `.wav` file.
    -   Click **Export .OBJ** in the visualizer controls to download the 3D model.
7.  **Get Creative:**
    -   Stuck on a name? Click **Generate Sound Names** to get suggestions from the AI Creative Assistant.

---

## The MP3gon: Axioms and Definition

The 3D models generated by this application are called "mp3gons". They are unique geometric objects defined by the following rules:

**Rule 1: The Bounded Form (Time)**
-   **Statement:** The mp3gon exists along a finite time axis Z of length T, where T is the total duration of the audio in seconds.
-   **Mapping:** Z ∈ [0, T]. Z=0 represents the first audio frame; Z=T represents the last.
-   **Geometric Consequence:** The mp3gon is a finite prism-like solid with two end-caps—the opening waveform and the closing waveform.

**Rule 2: The Evolving Surface (Frequency)**
-   **Statement:** At each point in time z, the cross-section is a frequency-amplitude profile of the sound.
-   **Mapping:** The X-axis represents frequency (logarithmically), and the Y-axis represents normalized amplitude.
-   **Geometric Consequence:** The surface S(x, z) is defined by Y = A(f, z), where A is the instantaneous amplitude at frequency f and time z. This surface undulates according to the changing spectrum.

**Rule 3: The Absolute Ceiling (Amplitude)**
-   **Statement:** Amplitude is bounded above by the digital ceiling (0 dBFS).
-   **Mapping:** A(f, z) ≤ 1, where 1 corresponds to maximum possible amplitude.
-   **Geometric Consequence:** Any clipping in the audio produces flat-topped plateaus on the surface, directly visible in the geometry.

### Planar Deformation (Spectrogram View)

This representation offers the most direct and geometrically simple mapping of the audio data, akin to a 3D spectrogram.

-   **Rule 4 (Planar Time):** The time axis `t` is mapped to a linear spatial axis, commonly `X`.
-   **Rule 5 (Planar Frequency):** The frequency axis `f` is mapped to a second, orthogonal linear spatial axis, commonly `Z`.
-   **Rule 6 (Planar Amplitude):** The amplitude `A(f,t)` at any point is mapped directly to the height `Y` above the `XZ` plane.

This deformation results in a topographic landscape of the sound, providing a high-fidelity visual representation of its spectral content over time without any spatial wrapping or distortion.

### Spherical Deformation

The mp3gon can be deformed into a spherical coordinate system, creating a "spiky ball" representation governed by new axioms.

-   **Rule 7 (Spherical Time):** The time axis `t` is mapped to the azimuthal angle `φ` (longitude), wrapping the audio's duration around the object's equator.
-   **Rule 8 (Spherical Frequency):** The frequency axis `f` is mapped to the polar angle `θ` (latitude), with low frequencies at one pole and high frequencies at the other.
-   **Rule 9 (Spherical Amplitude):** The amplitude `A(f, t)` at any point is mapped to the radial distance `ρ` (elevation from the core), creating the surface's "spikes."

This deformation introduces new interactive parameters, such as **Polar Pinch**, which squashes the sphere into an ellipsoid, demonstrating further geometric manipulation of the sound-object.

### Toroidal Deformation

This deformation synthesizes the tubular and spherical models by bending the Tube's linear time axis into a closed loop, forming a torus.

-   **Rule 10 (Toroidal Time):** The time axis `t` is mapped to the major angle of revolution `φ` around the torus's central axis, creating a continuous temporal loop.
-   **Rule 11 (Toroidal Frequency):** The frequency axis `f` is mapped to the minor angle `θ` around the tube's cross-section. The frequency spectrum wraps around this smaller loop.
-   **Rule 12 (Toroidal Amplitude):** The amplitude `A(f,t)` at any point is mapped to a radial displacement from the minor radius of the torus, creating spikes on the surface.

This model introduces the **Torus Radius** parameter, controlling the size of the central hole and the overall 'fatness' of the resulting sound-object.

### Spectrogrammatic Deformation (High-Fidelity)

This mapping is specifically designed to align the visual geometry with the logic of the sonification engine, prioritizing a faithful sonic reproduction.

-   **Rule 13 (Spectrogrammatic Time):** The time axis `t` is mapped to the `X` coordinate.
-   **Rule 14 (Spectrogrammatic Frequency):** The logarithmic frequency `log(f)` is mapped to the `Y` coordinate.
-   **Rule 15 (Spectrogrammatic Amplitude):** The amplitude `A(f,t)` is mapped to the `Z` coordinate (depth/extrusion).

By mapping the audio properties to the axes that the synthesizer expects for pitch (Y) and volume (Z), this shape ensures the sonified output closely mirrors the character of the original sound.

### Geometric Blending

The mp3gon's base shapes can be synthesized to create new, hybrid forms. This interaction is governed by a final axiom.

-   **Rule 16 (Geometric Interpolation):** An mp3gon can exist in a state interpolated between two base geometries (e.g., Tube and Sphere). The final vertex position `P_final` is determined by `P_final = (1 - α) * P_A + α * P_B`, where `P_A` and `P_B` are the corresponding vertex positions in the two base geometries and `α` is the blend factor (from 0 to 1).

This allows for a continuous morphing between shapes, revealing the unique geometric space that exists between them.

### Sonification

The process can be reversed, turning the geometry back into sound.

-   **Rule 17 (Geometric Sonification):** An mp3gon's geometry can be interpreted as a set of instructions for audio synthesis. The ordered vertices of the mesh are traversed over a set duration, with their spatial coordinates (X, Y, Z) mapping to synthesis parameters like frequency, amplitude, and stereo position. This process is inherently lossy and interpretive, creating a new sound from the shape data. The fidelity of this interpretation can be controlled by a "bitrate," which quantizes the vertex data, mimicking the artifacts of digital audio compression.

**Universal Definition**
An mp3gon is the unique 3D object generated by mapping the time, frequency, and amplitude content of a digital audio file into a shared coordinate frame. The mapping is bijective—every audio file produces one and only one mp3gon.

---

## Tech Stack

-   **Frontend:** React, TypeScript, Tailwind CSS
-   **3D Visualization:** Three.js
-   **Audio Processing:** Web Audio API, including AudioWorklets for real-time processing.
-   **AI:** Google Gemini API

---
*Sonic Geometer - An Experiment in Geometric Sound Transformation.*